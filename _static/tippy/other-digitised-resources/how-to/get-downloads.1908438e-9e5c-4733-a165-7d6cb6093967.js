selector_to_html = {"a[href=\"#constructing-urls\"]": "<h2 class=\"tippy-header\" style=\"margin-top: 0;\">Constructing urls<a class=\"headerlink\" href=\"#constructing-urls\" title=\"Link to this heading\">#</a></h2><p>Once you understand the structure of the download urls, you can construct your own, instead of using the web interface. All you need to know is the NLA identifier of a resource, and the number of pages/images it contains.</p><p>for example, <a class=\"reference external\" href=\"https://nla.gov.au/nla.obj-248742150\">The gold finder of Australia : how he went, how he fared, how he made his fortune</a> is a pamphlet published in 1853. It\u2019s NLA identifier is <code class=\"docutils literal notranslate\"><span class=\"pre\">nla.obj-248742150</span></code> and it has <code class=\"docutils literal notranslate\"><span class=\"pre\">80</span></code> pages. To download all</p>", "a[href=\"#how-do-you-know-the-number-of-pages\"]": "<h2 class=\"tippy-header\" style=\"margin-top: 0;\">How do you know the number of pages?<a class=\"headerlink\" href=\"#how-do-you-know-the-number-of-pages\" title=\"Link to this heading\">#</a></h2>", "a[href=\"#download-button\"]": "<figure class=\"align-default\" id=\"download-button\">\n<a class=\"reference internal image-reference\" href=\"../../_images/download-button.png\"><img alt=\"../../_images/download-button.png\" src=\"../../_images/download-button.png\" style=\"width: 500px;\"/></a>\n<figcaption>\n<p><span class=\"caption-text\">Download options for a digitised book</span><a class=\"headerlink\" href=\"#download-button\" title=\"Link to this image\">#</a></p>\n</figcaption>\n</figure>", "a[href=\"#variations\"]": "<h1 class=\"tippy-header\" style=\"margin-top: 0;\">Variations<a class=\"headerlink\" href=\"#variations\" title=\"Link to this heading\">#</a></h1><p>First pages only</p>", "a[href=\"#understanding-troves-download-link\"]": "<h2 class=\"tippy-header\" style=\"margin-top: 0;\">Understanding Trove\u2019s download link<a class=\"headerlink\" href=\"#understanding-troves-download-link\" title=\"Link to this heading\">#</a></h2><p>Trove\u2019s digitised object viewers include a \u2018Download\u2019 tab that provides options for downloading the current item.</p>", "a[href=\"#how-to-get-text-images-and-pdfs-using-troves-download-link\"]": "<h1 class=\"tippy-header\" style=\"margin-top: 0;\">HOW TO: Get text, images, and PDFs using Trove\u2019s download link<a class=\"headerlink\" href=\"#how-to-get-text-images-and-pdfs-using-troves-download-link\" title=\"Link to this heading\">#</a></h1><h2>Background<a class=\"headerlink\" href=\"#background\" title=\"Link to this heading\">#</a></h2><p>You can download text, images, and PDFs from individual digitised items using the Trove web interface. But only the text of periodical articles is available for machine access through the Trove API. This makes it difficult to assemble datasets, or build processing pipelines involving digitised resources.</p><p>This page documents a workaround developed by reverse-engineering the download link used by the Trove web interface. You can use it to automate the download of text, images, and PDFs from many digitised resources.</p>", "a[href=\"#background\"]": "<h2 class=\"tippy-header\" style=\"margin-top: 0;\">Background<a class=\"headerlink\" href=\"#background\" title=\"Link to this heading\">#</a></h2><p>You can download text, images, and PDFs from individual digitised items using the Trove web interface. But only the text of periodical articles is available for machine access through the Trove API. This makes it difficult to assemble datasets, or build processing pipelines involving digitised resources.</p><p>This page documents a workaround developed by reverse-engineering the download link used by the Trove web interface. You can use it to automate the download of text, images, and PDFs from many digitised resources.</p>", "a[href=\"#limitations\"]": "<h2 class=\"tippy-header\" style=\"margin-top: 0;\">Limitations<a class=\"headerlink\" href=\"#limitations\" title=\"Link to this heading\">#</a></h2><p>Zip files can be big</p><p>The url above could be used to download all the OCRd text from the book <a class=\"reference external\" href=\"https://nla.gov.au/nla.obj-33685055/\">The pearling disaster, 1899 : a memorial</a>:</p>"}
skip_classes = ["headerlink", "sd-stretched-link", "sd-rounded-pill"]

window.onload = function () {
    for (const [select, tip_html] of Object.entries(selector_to_html)) {
        const links = document.querySelectorAll(`article.bd-article ${select}`);
        for (const link of links) {
            if (skip_classes.some(c => link.classList.contains(c))) {
                continue;
            }

            tippy(link, {
                content: tip_html,
                allowHTML: true,
                arrow: true,
                placement: 'auto-start', maxWidth: 500, interactive: false,

            });
        };
    };
    console.log("tippy tips loaded!");
};
