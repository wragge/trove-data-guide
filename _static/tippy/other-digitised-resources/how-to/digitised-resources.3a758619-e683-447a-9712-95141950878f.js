selector_to_html = {"a[href=\"get-ocr-layout-data.html\"]": "<h1 class=\"tippy-header\" style=\"margin-top: 0;\"><span class=\"section-number\">25.4. </span>HOW TO: Get and use OCR data from a book or periodical page<a class=\"headerlink\" href=\"#how-to-get-and-use-ocr-data-from-a-book-or-periodical-page\" title=\"Link to this heading\">#</a></h1><p>The Optical Character Recognition (OCR) process extracts text from images. In doing so, it captures information about the <em>position</em> of each object on the page. This positional information isn\u2019t directly exposed in Trove, but it\u2019s used by the interface. For example, when you view a page in Trove\u2019s <a class=\"reference internal\" href=\"../../what-is-trove/interfaces.html#interfaces-digitised-journal-viewer\"><span class=\"std std-ref\">digital book &amp; journal viewer</span></a> it loads OCR data relating to that page using an internal API.</p><p>To access this API and download the OCR data for any page in a book or periodical you just need the page identifier. This <a class=\"reference external\" href=\"http://nla.gov.au/nla.obj-326405522\">page</a> in <em>Pacific Islands Monthly</em> has the identifier <code class=\"docutils literal notranslate\"><span class=\"pre\">nla.obj-326405522</span></code>. To retrieve the OCR data you just add <code class=\"docutils literal notranslate\"><span class=\"pre\">/ocr</span></code> to the identifier:</p>", "a[href=\"get-collection-items.html\"]": "<h1 class=\"tippy-header\" style=\"margin-top: 0;\"><span class=\"section-number\">25.1. </span>HOW TO: Get a list of items in a digitised collection<a class=\"headerlink\" href=\"#how-to-get-a-list-of-items-in-a-digitised-collection\" title=\"Link to this heading\">#</a></h1><h2>Background<a class=\"headerlink\" href=\"#background\" title=\"Link to this heading\">#</a></h2><p>The NLA\u2019s digitised resources are often presented as \u2018collections\u2019. A collection could be the volumes in a multi-volume work, the issues of a periodical, a map series, an album of photographs, or a manuscript collection. In the web interface, collections will have a \u2018Browse this collection\u2019 link or button that displays a list of the contents, but getting machine-readable data is not so straightforward. You can use the <code class=\"docutils literal notranslate\"><span class=\"pre\">magazine/title</span></code> API endpoint to get a list of issues from a periodical, but there\u2019s no way to get the contents of other types of collections from the Trove API.</p>", "a[href=\"harvest-digitised-resources.html\"]": "<h1 class=\"tippy-header\" style=\"margin-top: 0;\"><span class=\"section-number\">25.5. </span>HOW TO: Harvest data relating to digitised resources<a class=\"headerlink\" href=\"#how-to-harvest-data-relating-to-digitised-resources\" title=\"Link to this heading\">#</a></h1><p>Harvesting data relating to digitised resources (other than newspapers) in Trove is not as simple as making a few API requests. The major problem is that digitised resources are often assembled into groups or collections, and the full details of these groupings are not available through the Trove API. This means that simply harvesting results from an API query will miss many digitised resources. In addition, the way resources are described and arranged is often inconsistent, so you can\u2019t assume that a particular type of resource will be grouped in a particular way.</p><p>As a result of these problems, a \u2018belts and braces\u2019 approach seems best \u2013 follow every possible route and harvest as many records as possible. This may result in duplicates, but these can be dealt with later. In any case, Trove already contains a large number of duplicate records for digitised resources, so some form of merging or de-duplication will always be required.</p>", "a[href=\"scrape-metadata-audio-player.html\"]": "<h1 class=\"tippy-header\" style=\"margin-top: 0;\"><span class=\"section-number\">25.6. </span>HOW TO: Scrape metadata from the Trove audio player<a class=\"headerlink\" href=\"#how-to-scrape-metadata-from-the-trove-audio-player\" title=\"Link to this heading\">#</a></h1><p>Trove\u2019s audio player displays some metadata that isn\u2019t included in the API records. This can include:</p>", "a[href=\"download-items-text-images.html\"]": "<h1 class=\"tippy-header\" style=\"margin-top: 0;\"><span class=\"section-number\">25.2. </span>HOW TO: Automate the download of digitised items as text, images, or PDFs<a class=\"headerlink\" href=\"#how-to-automate-the-download-of-digitised-items-as-text-images-or-pdfs\" title=\"Link to this heading\">#</a></h1><p>You can download text, images, and PDFs from individual digitised items <a class=\"reference internal\" href=\"../../accessing-data/using-web-interface.html\"><span class=\"std std-doc\">using the Trove web interface</span></a>. But only the text of periodical articles is available for machine access through the Trove API. This makes it difficult to assemble datasets, or build processing pipelines involving digitised resources. This page documents a series of work arounds that enable you to automate the download of digitised items as text, images, or PDFs.</p>", "a[href=\"extract-embedded-metadata.html\"]": "<h1 class=\"tippy-header\" style=\"margin-top: 0;\"><span class=\"section-number\">25.3. </span>HOW TO: Extract additional metadata from the digitised resource viewer<a class=\"headerlink\" href=\"#how-to-extract-additional-metadata-from-the-digitised-resource-viewer\" title=\"Link to this heading\">#</a></h1><p>The viewers you use to examine digitised resources in Trove embed some metadata that isn\u2019t available through the Trove API. This includes a JSON-ified version of the item\u2019s MARC record (presumably copied from the NLA catalogue), as well as structural information used by the viewer itself, such as a list of pages in a digitised book.</p><p>This metadata can be useful in a number of different contexts. For example, you can extract the number of pages in a digitised book, then use this number to <a class=\"reference internal\" href=\"download-items-text-images.html\"><span class=\"doc std std-doc\">automatically download the full text or a PDF</span></a>. The GLAM Workbench includes an example where geospatial coordinates are extracted from the MARC data to add to a <a class=\"reference external\" href=\"https://glam-workbench.net/trove-maps/exploring-digitised-maps/\">harvest of digitised maps</a>.</p>", "a[href=\"#digitised-resources\"]": "<h1 class=\"tippy-header\" style=\"margin-top: 0;\"><span class=\"section-number\">25. </span>Digitised resources<a class=\"headerlink\" href=\"#digitised-resources\" title=\"Link to this heading\">#</a></h1>"}
skip_classes = ["headerlink", "sd-stretched-link", "sd-rounded-pill"]

window.onload = function () {
    for (const [select, tip_html] of Object.entries(selector_to_html)) {
        const links = document.querySelectorAll(`article.bd-article ${select}`);
        for (const link of links) {
            if (skip_classes.some(c => link.classList.contains(c))) {
                continue;
            }

            tippy(link, {
                content: tip_html,
                allowHTML: true,
                arrow: true,
                placement: 'auto-start', maxWidth: 500, interactive: false,

            });
        };
    };
    console.log("tippy tips loaded!");
};
