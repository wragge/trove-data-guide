selector_to_html = {"a[href=\"#data-problems-and-workarounds\"]": "<h4 class=\"tippy-header\" style=\"margin-top: 0;\">Data problems and workarounds<a class=\"headerlink\" href=\"#data-problems-and-workarounds\" title=\"Link to this heading\">#</a></h4><p>The <code class=\"docutils literal notranslate\"><span class=\"pre\">magazine/titles</span></code> endpoint data currently includes a significant number of duplicate records. This is easy to demonstrate and repair by converting the harvested titles data into a Pandas dataframe.</p><p>How many records are there?</p>", "a[href=\"#download-a-page-image-using-its-identifier\"]": "<h3 class=\"tippy-header\" style=\"margin-top: 0;\">Download a page image using its identifier<a class=\"headerlink\" href=\"#download-a-page-image-using-its-identifier\" title=\"Link to this heading\">#</a></h3><p>If you have a page identifier you can download a high-resolution image of the page simply by adding <code class=\"docutils literal notranslate\"><span class=\"pre\">/image</span></code> to the identifier url. Full details <a class=\"reference internal\" href=\"../how-to/download-items-text-images.html#download-high-res-images\"><span class=\"std std-ref\">are available here</span></a>, but here\u2019s a quick example.</p><p>This identifier <a class=\"reference external\" href=\"http://nla.gov.au/nla.obj-714047007\">nla.obj-714047007</a> points to a page in <em>Walkabout</em>. To download the page, you construct a url that looks like this:</p>", "a[href=\"../how-to/get-collection-items.html\"]": "<h1 class=\"tippy-header\" style=\"margin-top: 0;\"><span class=\"section-number\">25.1. </span>HOW TO: Get a list of items in a digitised collection<a class=\"headerlink\" href=\"#how-to-get-a-list-of-items-in-a-digitised-collection\" title=\"Link to this heading\">#</a></h1><h2>Background<a class=\"headerlink\" href=\"#background\" title=\"Link to this heading\">#</a></h2><p>The NLA\u2019s digitised resources are often presented as \u2018collections\u2019. A collection could be the volumes in a multi-volume work, the issues of a periodical, a map series, an album of photographs, or a manuscript collection. In the web interface, collections will have a \u2018Browse this collection\u2019 link or button that displays a list of the contents, but getting machine-readable data is not so straightforward. You can use the <code class=\"docutils literal notranslate\"><span class=\"pre\">magazine/title</span></code> API endpoint to get a list of issues from a periodical, but there\u2019s no way to get the contents of other types of collections from the Trove API.</p>", "a[href=\"#using-the-magazine-titles-api-endpoint\"]": "<h4 class=\"tippy-header\" style=\"margin-top: 0;\">Using the <code class=\"docutils literal notranslate\"><span class=\"pre\">magazine/titles</span></code> API endpoint<a class=\"headerlink\" href=\"#using-the-magazine-titles-api-endpoint\" title=\"Link to this heading\">#</a></h4><p>The <code class=\"docutils literal notranslate\"><span class=\"pre\">magazine/titles</span></code> endpoint was introduced in version 3 of the Trove API. If you send a request to <code class=\"docutils literal notranslate\"><span class=\"pre\">https://api.trove.nla.gov.au/v3/magazine/titles</span></code> you\u2019ll get back the first group of 20 periodical titles. You can change the number of records per request to a maximum of 100 by using the <code class=\"docutils literal notranslate\"><span class=\"pre\">limit</span></code> parameter.</p><p><a class=\"reference external\" href=\"https://troveconsole.herokuapp.com/v3/?url=https%3A%2F%2Fapi.trove.nla.gov.au%2Fv3%2Fmagazine%2Ftitles%3Fencoding%3Djson%26limit%3D100&amp;amp;comment=\"><img alt=\"Try it!\" src=\"https://troveconsole.herokuapp.com/static/img/try-trove-api-console.svg\"/></a></p>", "a[href=\"#get-text-and-positional-information-from-ocr-data\"]": "<h3 class=\"tippy-header\" style=\"margin-top: 0;\">Get text and positional information from OCR data<a class=\"headerlink\" href=\"#get-text-and-positional-information-from-ocr-data\" title=\"Link to this heading\">#</a></h3><p>When Trove\u2019s <a class=\"reference internal\" href=\"../../what-is-trove/interfaces.html#interfaces-digitised-journal-viewer\"><span class=\"std std-ref\">digital book &amp; journal viewer</span></a> displays a page, it loads OCR data from an internal API. This data includes both the OCRd text and the position of every block, line, and word of the text. If all you want is the raw text, you\u2019re better off using the method above, but if you\u2019re interested in the position of the text on the page then you you can download and parse the OCR data. See <a class=\"reference internal\" href=\"../how-to/get-ocr-layout-data.html\"><span class=\"doc std std-doc\">HOW TO: Get and use OCR data from a book or periodical page</span></a> for full details.</p>", "a[href=\"#text\"]": "<h2 class=\"tippy-header\" style=\"margin-top: 0;\">Text<a class=\"headerlink\" href=\"#text\" title=\"Link to this heading\">#</a></h2><p>There are three ways of getting OCRd text from periodicals:</p>", "a[href=\"#download-a-range-of-pages-from-an-issue\"]": "<h3 class=\"tippy-header\" style=\"margin-top: 0;\">Download a range of pages from an issue<a class=\"headerlink\" href=\"#download-a-range-of-pages-from-an-issue\" title=\"Link to this heading\">#</a></h3><p>You can download page images from periodical issues using the web interface. To automate this process you can mimic the behaviour of the download button. Full details are available in <a class=\"reference internal\" href=\"../how-to/download-items-text-images.html\"><span class=\"doc std std-doc\">HOW TO: Automate the download of digitised items as text, images, or PDFs</span></a>, but here\u2019s a quick summary.</p><p>To download all the page images from a single periodical issue you need to know the number of pages in the issue. This can be found by <a class=\"reference internal\" href=\"../how-to/extract-embedded-metadata.html\"><span class=\"doc std std-doc\">extracting the metadata</span></a> embedded in the issue viewer and getting the length of the <code class=\"docutils literal notranslate\"><span class=\"pre\">page</span></code> list.</p>", "a[href=\"../how-to/get-ocr-layout-data.html#other-digitised-ocr-data-crop-images\"]": "<h2 class=\"tippy-header\" style=\"margin-top: 0;\">Crop images from pages using the OCR coordinates<a class=\"headerlink\" href=\"#crop-images-from-pages-using-the-ocr-coordinates\" title=\"Link to this heading\">#</a></h2><p>One thing you might want to do is to crop text blocks or illustrations from the page image using the OCR coordinates. This is certainly possible, but it\u2019s not always straightforward. The problem is that the coordinates in the OCR data can sometimes refer to images at a higher resolution than those you can access through the web interface. If you try and use the coordinates with a lower resolution image you\u2019ll end up cropping out the wrong areas. The solution is to find the resolution of the image used in creating the coordinates and compare it to the one you\u2019ve downloaded. Dividing the width of the low res image by the width of the high-res image will give you a ratio that you can apply to the coordinates to transform them for use with the downloaded image.</p><p>The original page resolutions are usually included in the metadata embedded in the digital journal viewer.</p>", "a[href=\"../how-to/extract-embedded-metadata.html#digitised-howto-embedded-articles\"]": "<h2 class=\"tippy-header\" style=\"margin-top: 0;\">Get a list of articles in a periodical issue<a class=\"headerlink\" href=\"#get-a-list-of-articles-in-a-periodical-issue\" title=\"Link to this heading\">#</a></h2>", "a[href=\"#getting-a-list-of-pages-in-an-issue\"]": "<h3 class=\"tippy-header\" style=\"margin-top: 0;\">Getting a list of pages in an issue<a class=\"headerlink\" href=\"#getting-a-list-of-pages-in-an-issue\" title=\"Link to this heading\">#</a></h3><p>If you have an issue\u2019s <code class=\"docutils literal notranslate\"><span class=\"pre\">nla.obj</span></code> identifier you can <a class=\"reference internal\" href=\"../how-to/extract-embedded-metadata.html#digitised-howto-embedded-pages\"><span class=\"std std-ref\">get a list of page identifiers</span></a> from the metadata embedded in the <a class=\"reference internal\" href=\"../../what-is-trove/interfaces.html#interfaces-digitised-journal-viewer\"><span class=\"std std-ref\">book and journal viewer</span></a>. The page identifiers can then be used to <a class=\"reference internal\" href=\"../how-to/download-items-text-images.html#download-high-res-images\"><span class=\"std std-ref\">download images of digitised pages</span></a> and <a class=\"reference internal\" href=\"../how-to/get-ocr-layout-data.html\"><span class=\"doc std std-doc\">access OCR layout data</span></a>.</p>", "a[href=\"#find-the-number-of-issues-per-year\"]": "<h3 class=\"tippy-header\" style=\"margin-top: 0;\">Find the number of issues per year<a class=\"headerlink\" href=\"#find-the-number-of-issues-per-year\" title=\"Link to this heading\">#</a></h3><p>You can use the <code class=\"docutils literal notranslate\"><span class=\"pre\">magazine/title</span></code> API endpoint to retrieve information about issues of a periodical that have been digitised and are available through Trove. As <a class=\"reference internal\" href=\"#periodicals-data-title\"><span class=\"std std-ref\">described above</span></a>, you can get details about an individual periodical using either it\u2019s work identifier or <code class=\"docutils literal notranslate\"><span class=\"pre\">nla.obj</span></code> identifier.</p><p>You can find the number of digitised issues per year by setting the <code class=\"docutils literal notranslate\"><span class=\"pre\">include</span></code> parameter to <code class=\"docutils literal notranslate\"><span class=\"pre\">years</span></code>. The data returned will include a list of years for which digitised issues are available, and the number of issues available each year. For example, to get issue counts from the <em>Australasian pocket almanack</em> (<code class=\"docutils literal notranslate\"><span class=\"pre\">nla.obj-2967431735</span></code>), you\u2019d request:</p>", "a[href=\"#save-illustrations-from-pages-using-ocr-layout-data\"]": "<h3 class=\"tippy-header\" style=\"margin-top: 0;\">Save illustrations from pages using OCR layout data<a class=\"headerlink\" href=\"#save-illustrations-from-pages-using-ocr-layout-data\" title=\"Link to this heading\">#</a></h3><p>When Trove\u2019s <a class=\"reference internal\" href=\"../../what-is-trove/interfaces.html#interfaces-digitised-journal-viewer\"><span class=\"std std-ref\">digital book &amp; journal viewer</span></a> displays a periodical page, it loads OCR data from an internal API. As well as providing information about the position and content of text objects, this data includes the coordinates of any illustrations on the page. Using these coordinates you can crop and save illustrations from a page image. The full method is described in <a class=\"reference internal\" href=\"../how-to/get-ocr-layout-data.html#other-digitised-ocr-data-crop-images\"><span class=\"std std-ref\">Crop images from pages using the OCR coordinates</span></a>.</p><p>Here\u2019s a <a class=\"reference external\" href=\"https://www.dropbox.com/scl/fo/60imdoyf4ss2b6vh01q1w/h?rlkey=zuwbjaqnmr7qvkuinovdu5ot0&amp;amp;dl=0\">collection of cat photos</a> harvested from a search for <code class=\"docutils literal notranslate\"><span class=\"pre\">cat</span></code> or <code class=\"docutils literal notranslate\"><span class=\"pre\">kitten</span></code> in the titles of periodical articles.</p>", "a[href=\"../how-to/download-items-text-images.html#download-high-res-images\"]": "<h2 class=\"tippy-header\" style=\"margin-top: 0;\">Downloading high-resolution images individually<a class=\"headerlink\" href=\"#downloading-high-resolution-images-individually\" title=\"Link to this heading\">#</a></h2><p>The method described above has a couple of problems when it comes to downloading images. The first is that all the requested images are delivered in a single <code class=\"docutils literal notranslate\"><span class=\"pre\">zip</span></code> file. If you\u2019re requested images of all the pages in a book, this file could get very large. The second problem is that the built-in download link doesn\u2019t always provide images at the highest possible resolution.</p><p>An alternative approach that avoids both of these problems is to construct a url for each individual page. All you need to do this is get the page identifier and tack <code class=\"docutils literal notranslate\"><span class=\"pre\">/image</span></code> on the end of the url.</p>", "a[href=\"../../what-is-trove/interfaces.html#interfaces-digitised-collection-viewer\"]": "<h3 class=\"tippy-header\" style=\"margin-top: 0;\">Collection viewer<a class=\"headerlink\" href=\"#collection-viewer\" title=\"Link to this heading\">#</a></h3><p>The <strong>Browse this collection</strong> button opens a modal window that lets you navigate through the items in the collection. This list is generated by an internal web request that returns an HTML fragment. You can <a class=\"reference internal\" href=\"../../other-digitised-resources/how-to/get-collection-items.html\"><span class=\"doc std std-doc\">use these fragments to assemble machine-readable data</span></a> about the items in a collection.</p>", "a[href=\"../how-to/extract-embedded-metadata.html#digitised-howto-embedded-pages\"]": "<h2 class=\"tippy-header\" style=\"margin-top: 0;\">Get information about pages<a class=\"headerlink\" href=\"#get-information-about-pages\" title=\"Link to this heading\">#</a></h2><p>Books and periodical issues should include <code class=\"docutils literal notranslate\"><span class=\"pre\">page</span></code> data in the <code class=\"docutils literal notranslate\"><span class=\"pre\">children</span></code> field. To find the number of pages, you just need to get the length of the <code class=\"docutils literal notranslate\"><span class=\"pre\">page</span></code> list.</p>", "a[href=\"#getting-a-list-of-articles-in-an-issue\"]": "<h3 class=\"tippy-header\" style=\"margin-top: 0;\">Getting a list of articles in an issue<a class=\"headerlink\" href=\"#getting-a-list-of-articles-in-an-issue\" title=\"Link to this heading\">#</a></h3><p>If you have an issue\u2019s <code class=\"docutils literal notranslate\"><span class=\"pre\">nla.obj</span></code> identifier you can <a class=\"reference internal\" href=\"../how-to/extract-embedded-metadata.html#digitised-howto-embedded-articles\"><span class=\"std std-ref\">get a list of articles</span></a> in that issue (digitised:howto:embedded:articles) from the metadata embedded in the <a class=\"reference internal\" href=\"../../what-is-trove/interfaces.html#interfaces-digitised-journal-viewer\"><span class=\"std std-ref\">book and journal viewer</span></a>.</p>", "a[href=\"#searching-for-articles\"]": "<h3 class=\"tippy-header\" style=\"margin-top: 0;\">Searching for articles<a class=\"headerlink\" href=\"#searching-for-articles\" title=\"Link to this heading\">#</a></h3><p>To find periodical articles related to a particular topic, you can search using keywords and facets in the <em>Magazines &amp; Newsletters</em> category.</p><p>However, it\u2019s important to note that periodical articles (unlike newspaper articles) are returned as work-level records. <em>Usually</em> the work records will only contain a single \u2018version\u2019 \u2013 the article itself \u2013 but not always. Advertisements, in particular, seem to be treated differently. You will sometimes come across work records, <a class=\"reference external\" href=\"https://trove.nla.gov.au/work/232859878\">like this</a>, that munge together <em>all</em> the advertisements in a specific issue as \u2018versions\u2019.</p>", "a[href=\"#periodicals-data-title\"]": "<h3 class=\"tippy-header\" style=\"margin-top: 0;\">Get details of an individual periodical title<a class=\"headerlink\" href=\"#get-details-of-an-individual-periodical-title\" title=\"Link to this heading\">#</a></h3><p>The <code class=\"docutils literal notranslate\"><span class=\"pre\">magazine/title</span></code> (note the singular <code class=\"docutils literal notranslate\"><span class=\"pre\">title</span></code>) endpoint provides information about individual periodical titles. You can specify the title using either an <code class=\"docutils literal notranslate\"><span class=\"pre\">nla.obj</span></code> identifier or a numeric work identifier. For example, to get details about the <a class=\"reference external\" href=\"https://trove.nla.gov.au/work/10411388\"><em>Journal of Soil Conservation</em></a> you can either use it\u2019s work identifier <code class=\"docutils literal notranslate\"><span class=\"pre\">10411388</span></code>:</p><p><code class=\"docutils literal notranslate\"><span class=\"pre\">https://api.trove.nla.gov.au/v3/magazine/title/10411388?encoding=json</span></code></p>", "a[href=\"#images\"]": "<h2 class=\"tippy-header\" style=\"margin-top: 0;\">Images<a class=\"headerlink\" href=\"#images\" title=\"Link to this heading\">#</a></h2><p>There are two types of images you can obtain from periodicals:</p>", "a[href=\"../how-to/extract-embedded-metadata.html\"]": "<h1 class=\"tippy-header\" style=\"margin-top: 0;\"><span class=\"section-number\">25.3. </span>HOW TO: Extract additional metadata from the digitised resource viewer<a class=\"headerlink\" href=\"#how-to-extract-additional-metadata-from-the-digitised-resource-viewer\" title=\"Link to this heading\">#</a></h1><p>The viewers you use to examine digitised resources in Trove embed some metadata that isn\u2019t available through the Trove API. This includes a JSON-ified version of the item\u2019s MARC record (presumably copied from the NLA catalogue), as well as structural information used by the viewer itself, such as a list of pages in a digitised book.</p><p>This metadata can be useful in a number of different contexts. For example, you can extract the number of pages in a digitised book, then use this number to <a class=\"reference internal\" href=\"../how-to/download-items-text-images.html\"><span class=\"doc std std-doc\">automatically download the full text or a PDF</span></a>. The GLAM Workbench includes an example where geospatial coordinates are extracted from the MARC data to add to a <a class=\"reference external\" href=\"https://glam-workbench.net/trove-maps/exploring-digitised-maps/\">harvest of digitised maps</a>.</p>", "a[href=\"#download-issue-thumbnails\"]": "<h3 class=\"tippy-header\" style=\"margin-top: 0;\">Download issue thumbnails<a class=\"headerlink\" href=\"#download-issue-thumbnails\" title=\"Link to this heading\">#</a></h3><p>To download a thumbnail image of the first page of an issue, just add <code class=\"docutils literal notranslate\"><span class=\"pre\">-t</span></code> to the the issue identifier, eg:</p><p><a class=\"reference external\" href=\"https://nla.gov.au/nla.obj-714041173-t\">https://nla.gov.au/nla.obj-714041173-t</a></p>", "a[href=\"#get-a-list-of-individual-issues\"]": "<h3 class=\"tippy-header\" style=\"margin-top: 0;\">Get a list of individual issues<a class=\"headerlink\" href=\"#get-a-list-of-individual-issues\" title=\"Link to this heading\">#</a></h3><p>You can get details of individual issues from the <code class=\"docutils literal notranslate\"><span class=\"pre\">magazines/title</span></code> API endpoint by setting the <code class=\"docutils literal notranslate\"><span class=\"pre\">include</span></code> parameter to <code class=\"docutils literal notranslate\"><span class=\"pre\">years</span></code> and adding the <code class=\"docutils literal notranslate\"><span class=\"pre\">range</span></code> parameter to specify a date range. The <code class=\"docutils literal notranslate\"><span class=\"pre\">range</span></code> parameter needs to be in the format <code class=\"docutils literal notranslate\"><span class=\"pre\">YYYYMMDD-YYYYMMDD</span></code>. For example, to retrieve details of issues from 1920 to 1950, you\u2019d use a <code class=\"docutils literal notranslate\"><span class=\"pre\">range</span></code> value of <code class=\"docutils literal notranslate\"><span class=\"pre\">19200101-19501231</span></code>.</p><p>If the number of issues is fairly small, you can just use dummy dates to set the range well beyond the limits of the periodical, something like <code class=\"docutils literal notranslate\"><span class=\"pre\">18000101-21001231</span></code> for example. That means you\u2019ll get everything at once.</p>", "a[href=\"../../what-is-trove/interfaces.html#interfaces-digitised-journal-viewer\"]": "<h3 class=\"tippy-header\" style=\"margin-top: 0;\">Book and journal viewer<a class=\"headerlink\" href=\"#book-and-journal-viewer\" title=\"Link to this heading\">#</a></h3>", "a[href=\"../how-to/get-ocr-layout-data.html\"]": "<h1 class=\"tippy-header\" style=\"margin-top: 0;\"><span class=\"section-number\">25.4. </span>HOW TO: Get and use OCR data from a book or periodical page<a class=\"headerlink\" href=\"#how-to-get-and-use-ocr-data-from-a-book-or-periodical-page\" title=\"Link to this heading\">#</a></h1><p>The Optical Character Recognition (OCR) process extracts text from images. In doing so, it captures information about the <em>position</em> of each object on the page. This positional information isn\u2019t directly exposed in Trove, but it\u2019s used by the interface. For example, when you view a page in Trove\u2019s <a class=\"reference internal\" href=\"../../what-is-trove/interfaces.html#interfaces-digitised-journal-viewer\"><span class=\"std std-ref\">digital book &amp; journal viewer</span></a> it loads OCR data relating to that page using an internal API.</p><p>To access this API and download the OCR data for any page in a book or periodical you just need the page identifier. This <a class=\"reference external\" href=\"http://nla.gov.au/nla.obj-326405522\">page</a> in <em>Pacific Islands Monthly</em> has the identifier <code class=\"docutils literal notranslate\"><span class=\"pre\">nla.obj-326405522</span></code>. To retrieve the OCR data you just add <code class=\"docutils literal notranslate\"><span class=\"pre\">/ocr</span></code> to the identifier:</p>", "a[href=\"#understanding-identifiers\"]": "<h2 class=\"tippy-header\" style=\"margin-top: 0;\">Understanding identifiers<a class=\"headerlink\" href=\"#understanding-identifiers\" title=\"Link to this heading\">#</a></h2><p>There are four different types of identifiers used by Trove for periodical titles, issues, pages, and articles \u2013 and they all look exactly the same! To confuse matters further, sometimes the different identifiers take you to the same place. For example, these three identifiers, for an issue, page, and article, all deliver you to the front page of <em>Walkabout</em>, volume 1, number 2 (2 December 1934).</p>", "a[href=\"#get-details-of-an-individual-periodical-title\"]": "<h3 class=\"tippy-header\" style=\"margin-top: 0;\">Get details of an individual periodical title<a class=\"headerlink\" href=\"#get-details-of-an-individual-periodical-title\" title=\"Link to this heading\">#</a></h3><p>The <code class=\"docutils literal notranslate\"><span class=\"pre\">magazine/title</span></code> (note the singular <code class=\"docutils literal notranslate\"><span class=\"pre\">title</span></code>) endpoint provides information about individual periodical titles. You can specify the title using either an <code class=\"docutils literal notranslate\"><span class=\"pre\">nla.obj</span></code> identifier or a numeric work identifier. For example, to get details about the <a class=\"reference external\" href=\"https://trove.nla.gov.au/work/10411388\"><em>Journal of Soil Conservation</em></a> you can either use it\u2019s work identifier <code class=\"docutils literal notranslate\"><span class=\"pre\">10411388</span></code>:</p><p><code class=\"docutils literal notranslate\"><span class=\"pre\">https://api.trove.nla.gov.au/v3/magazine/title/10411388?encoding=json</span></code></p>", "a[href=\"#digitised-periodicals-data-text-articles-api\"]": "<h3 class=\"tippy-header\" style=\"margin-top: 0;\">Get article text from the Trove API<a class=\"headerlink\" href=\"#get-article-text-from-the-trove-api\" title=\"Link to this heading\">#</a></h3><p>You can get the OCRd text of articles in the <em>Magazines &amp; Newsletters</em> category using the Trove API, but there\u2019s a couple of tricks.</p><p>The OCRd text is only included in <em>version</em> records rather than the parent <em>work</em> records. But, by default, the API only returns the <em>work</em> level records. To include the OCRd text you need to ask the API to add the versions by setting the <code class=\"docutils literal notranslate\"><span class=\"pre\">include</span></code> parameter to <code class=\"docutils literal notranslate\"><span class=\"pre\">workVersions</span></code> when constructing your request.</p>", "a[href=\"#metadata\"]": "<h2 class=\"tippy-header\" style=\"margin-top: 0;\">Metadata<a class=\"headerlink\" href=\"#metadata\" title=\"Link to this heading\">#</a></h2><h3>Get a list of digitised periodical titles<a class=\"headerlink\" href=\"#get-a-list-of-digitised-periodical-titles\" title=\"Link to this heading\">#</a></h3><p>Finding out which periodicals in Trove have been digitised is not straightforward. There are two basic approaches:</p>", "a[href=\"#id1\"]": "<h4 class=\"tippy-header\" style=\"margin-top: 0;\">Data problems and workarounds<a class=\"headerlink\" href=\"#id1\" title=\"Link to this heading\">#</a></h4><p>There\u2019s currently a bug in the API that means that details of periodical issues without a date will be missing from the results. It tells you the undated issues exist, but doesn\u2019t include identifiers or links.</p>", "a[href=\"#download-ocrd-text-from-pages-and-issues\"]": "<h3 class=\"tippy-header\" style=\"margin-top: 0;\">Download OCRd text from pages and issues<a class=\"headerlink\" href=\"#download-ocrd-text-from-pages-and-issues\" title=\"Link to this heading\">#</a></h3><p>You can download OCRd text from periodical issues and pages using the web interface. To automate this process you can mimic the behaviour of the download button. Full details are available in <a class=\"reference internal\" href=\"../how-to/download-items-text-images.html\"><span class=\"doc std std-doc\">HOW TO: Automate the download of digitised items as text, images, or PDFs</span></a>, but here\u2019s a quick summary.</p>", "a[href=\"finding-periodicals.html#periodicals-finding-search-v-api\"]": "<h2 class=\"tippy-header\" style=\"margin-top: 0;\">Search versus API<a class=\"headerlink\" href=\"#search-versus-api\" title=\"Link to this heading\">#</a></h2><p>I\u2019ve harvested lists of digitised periodicals using both the search strategy described above and the <code class=\"docutils literal notranslate\"><span class=\"pre\">magazine/titles</span></code> endpoint. Once I excluded the Parliamentary Papers, the number of titles returned by both methods was similar, but not the same. For example, the search results included some single issues of periodicals which were treated as standalone publications rather than as members of a collection. On the other hand, the API results include some periodicals whose <code class=\"docutils literal notranslate\"><span class=\"pre\">format</span></code> field doesn\u2019t include <code class=\"docutils literal notranslate\"><span class=\"pre\">Periodical</span></code>, as well as some titles that currently have no issues digitised.</p><p>This means that there\u2019s no straighforward way of determining which periodicals have been digitised. The answer will depend on what you think a periodical is, and what you want to do with the data. Hopefully, some of the problems with the <code class=\"docutils literal notranslate\"><span class=\"pre\">magazine/titles</span></code> endpoint will be fixed over time, so that it will at least provide a consistent, if not complete, answer to the question.</p>", "a[href=\"../how-to/download-items-text-images.html\"]": "<h1 class=\"tippy-header\" style=\"margin-top: 0;\"><span class=\"section-number\">25.2. </span>HOW TO: Automate the download of digitised items as text, images, or PDFs<a class=\"headerlink\" href=\"#how-to-automate-the-download-of-digitised-items-as-text-images-or-pdfs\" title=\"Link to this heading\">#</a></h1><p>You can download text, images, and PDFs from individual digitised items <a class=\"reference internal\" href=\"../../accessing-data/using-web-interface.html\"><span class=\"std std-doc\">using the Trove web interface</span></a>. But only the text of periodical articles is available for machine access through the Trove API. This makes it difficult to assemble datasets, or build processing pipelines involving digitised resources. This page documents a series of work arounds that enable you to automate the download of digitised items as text, images, or PDFs.</p>", "a[href=\"#accessing-data-from-periodicals\"]": "<h1 class=\"tippy-header\" style=\"margin-top: 0;\"><span class=\"section-number\">22.3. </span>Accessing data from periodicals<a class=\"headerlink\" href=\"#accessing-data-from-periodicals\" title=\"Link to this heading\">#</a></h1><h2>Understanding identifiers<a class=\"headerlink\" href=\"#understanding-identifiers\" title=\"Link to this heading\">#</a></h2><p>There are four different types of identifiers used by Trove for periodical titles, issues, pages, and articles \u2013 and they all look exactly the same! To confuse matters further, sometimes the different identifiers take you to the same place. For example, these three identifiers, for an issue, page, and article, all deliver you to the front page of <em>Walkabout</em>, volume 1, number 2 (2 December 1934).</p>", "a[href=\"#get-a-list-of-digitised-periodical-titles\"]": "<h3 class=\"tippy-header\" style=\"margin-top: 0;\">Get a list of digitised periodical titles<a class=\"headerlink\" href=\"#get-a-list-of-digitised-periodical-titles\" title=\"Link to this heading\">#</a></h3><p>Finding out which periodicals in Trove have been digitised is not straightforward. There are two basic approaches:</p>", "a[href=\"#get-article-text-from-the-trove-api\"]": "<h3 class=\"tippy-header\" style=\"margin-top: 0;\">Get article text from the Trove API<a class=\"headerlink\" href=\"#get-article-text-from-the-trove-api\" title=\"Link to this heading\">#</a></h3><p>You can get the OCRd text of articles in the <em>Magazines &amp; Newsletters</em> category using the Trove API, but there\u2019s a couple of tricks.</p><p>The OCRd text is only included in <em>version</em> records rather than the parent <em>work</em> records. But, by default, the API only returns the <em>work</em> level records. To include the OCRd text you need to ask the API to add the versions by setting the <code class=\"docutils literal notranslate\"><span class=\"pre\">include</span></code> parameter to <code class=\"docutils literal notranslate\"><span class=\"pre\">workVersions</span></code> when constructing your request.</p>"}
skip_classes = ["headerlink", "sd-stretched-link", "sd-rounded-pill"]

window.onload = function () {
    for (const [select, tip_html] of Object.entries(selector_to_html)) {
        const links = document.querySelectorAll(`article.bd-article ${select}`);
        for (const link of links) {
            if (skip_classes.some(c => link.classList.contains(c))) {
                continue;
            }

            tippy(link, {
                content: tip_html,
                allowHTML: true,
                arrow: true,
                placement: 'auto-start', maxWidth: 500, interactive: false,

            });
        };
    };
    console.log("tippy tips loaded!");
};
