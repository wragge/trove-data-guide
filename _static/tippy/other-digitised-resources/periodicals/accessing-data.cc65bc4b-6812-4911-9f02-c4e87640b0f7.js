selector_to_html = {"a[href=\"#id1\"]": "<h2 class=\"tippy-header\" style=\"margin-top: 0;\">Issues<a class=\"headerlink\" href=\"#id1\" title=\"Link to this heading\">#</a></h2><h3>Metadata<a class=\"headerlink\" href=\"#id2\" title=\"Link to this heading\">#</a></h3><p>API provides <code class=\"docutils literal notranslate\"><span class=\"pre\">/magazine/titles</span></code> and <code class=\"docutils literal notranslate\"><span class=\"pre\">/magazine/title/[ID]</span></code> endpoints</p><p>Been prodding the new <code class=\"docutils literal notranslate\"><span class=\"pre\">/magazine/title</span></code> endpoint that was added to #Trove API v3. It provides details on periodical titles and issues (other than newspapers). So it\u2019s very useful, but also very not\u2026</p>", "a[href=\"#digitised-and-born-digital\"]": "<h2 class=\"tippy-header\" style=\"margin-top: 0;\">Digitised and born digital<a class=\"headerlink\" href=\"#digitised-and-born-digital\" title=\"Link to this heading\">#</a></h2><p>Note about NED publications</p>", "a[href=\"#get-a-list-of-individual-issues\"]": "<h3 class=\"tippy-header\" style=\"margin-top: 0;\">Get a list of individual issues<a class=\"headerlink\" href=\"#get-a-list-of-individual-issues\" title=\"Link to this heading\">#</a></h3><p>You can get details of individual issues from the <code class=\"docutils literal notranslate\"><span class=\"pre\">magazines/title</span></code> API endpoint by setting the <code class=\"docutils literal notranslate\"><span class=\"pre\">include</span></code> parameter to <code class=\"docutils literal notranslate\"><span class=\"pre\">years</span></code> and adding the <code class=\"docutils literal notranslate\"><span class=\"pre\">range</span></code> parameter to specify a date range. The <code class=\"docutils literal notranslate\"><span class=\"pre\">range</span></code> parameter needs to be in the format <code class=\"docutils literal notranslate\"><span class=\"pre\">YYYYMMDD-YYYYMMDD</span></code>. For example, to retrieve details of issues from 1920 to 1950, you\u2019d use a <code class=\"docutils literal notranslate\"><span class=\"pre\">range</span></code> value of <code class=\"docutils literal notranslate\"><span class=\"pre\">19200101-19501231</span></code>.</p><p>If the number of issues is fairly small, you can just use dummy dates to set the range well beyond the limits of the periodical, something like <code class=\"docutils literal notranslate\"><span class=\"pre\">18000101-21001231</span></code> for example. That means you\u2019ll get everything at once.</p>", "a[href=\"#find-the-number-of-issues-per-year\"]": "<h3 class=\"tippy-header\" style=\"margin-top: 0;\">Find the number of issues per year<a class=\"headerlink\" href=\"#find-the-number-of-issues-per-year\" title=\"Link to this heading\">#</a></h3><p>You can find the number of digitised issues per year by setting the <code class=\"docutils literal notranslate\"><span class=\"pre\">include</span></code> parameter to <code class=\"docutils literal notranslate\"><span class=\"pre\">years</span></code>. The data returned will include a list of years for which digitised issues are available, and the number of issues available each year. For example, to get issue counts from the <em>Australasian pocket almanack</em> (<code class=\"docutils literal notranslate\"><span class=\"pre\">nla.obj-2967431735</span></code>), you\u2019d request:</p><p><code class=\"docutils literal notranslate\"><span class=\"pre\">https://api.trove.nla.gov.au/v3/magazine/title/nla.obj-2967431735?encoding=json&amp;include=years</span></code></p>", "a[href=\"#issues\"]": "<h2 class=\"tippy-header\" style=\"margin-top: 0;\">Issues<a class=\"headerlink\" href=\"#issues\" title=\"Link to this heading\">#</a></h2><p>You can use the <code class=\"docutils literal notranslate\"><span class=\"pre\">magazine/title</span></code> API endpoint to retrieve information about issues of a periodical that have been digitised and are available through Trove. As described above, you can get details about an individual periodical using either it\u2019s work identifier or <code class=\"docutils literal notranslate\"><span class=\"pre\">nla.obj</span></code> identifier.</p>", "a[href=\"#what-periodicals-have-been-digitised\"]": "<h2 class=\"tippy-header\" style=\"margin-top: 0;\">What periodicals have been digitised?<a class=\"headerlink\" href=\"#what-periodicals-have-been-digitised\" title=\"Link to this heading\">#</a></h2><p>Search for <a class=\"reference external\" href=\"https://trove.nla.gov.au/search/category/books?keyword=%22nla.obj%22%20NOT%20series%3A%22Parliamentary%20paper%20%28Australia.%20Parliament%29%22%20NOT%20nuc%3A%22ANL%3ANED%22&amp;amp;l-format=Periodical&amp;amp;l-availability=y\">\u201cnla.obj\u201d NOT series:\u201cParliamentary paper (Australia. Parliament)\u201d NOT nuc:\u201cANL:NED\u201d and <code class=\"docutils literal notranslate\"><span class=\"pre\">l-format=Periodical</span></code> and <code class=\"docutils literal notranslate\"><span class=\"pre\">l-availability=y</span></code></a> in different categories (mostly B&amp;L) : 968 results</p><p>API provides another option</p>", "a[href=\"#removing-duplicates\"]": "<h4 class=\"tippy-header\" style=\"margin-top: 0;\">Removing duplicates<a class=\"headerlink\" href=\"#removing-duplicates\" title=\"Link to this heading\">#</a></h4><p>Unfortunately the <code class=\"docutils literal notranslate\"><span class=\"pre\">magazine/titles</span></code> endpoint data includes a significant number of duplicate records. Here\u2019s some examples.</p>", "a[href=\"#text\"]": "<h3 class=\"tippy-header\" style=\"margin-top: 0;\">Text<a class=\"headerlink\" href=\"#text\" title=\"Link to this heading\">#</a></h3><p>Via API</p>", "a[href=\"#magazine-title-id\"]": "<h4 class=\"tippy-header\" style=\"margin-top: 0;\"><code class=\"docutils literal notranslate\"><span class=\"pre\">/magazine/title/[ID]</span></code><a class=\"headerlink\" href=\"#magazine-title-id\" title=\"Link to this heading\">#</a></h4><p>Example issue:</p>", "a[href=\"#images-and-pdfs\"]": "<h3 class=\"tippy-header\" style=\"margin-top: 0;\">Images and PDFs<a class=\"headerlink\" href=\"#images-and-pdfs\" title=\"Link to this heading\">#</a></h3><p>Page images</p>", "a[href=\"#data-problems\"]": "<h4 class=\"tippy-header\" style=\"margin-top: 0;\">Data problems<a class=\"headerlink\" href=\"#data-problems\" title=\"Link to this heading\">#</a></h4><p>Once you start working with the data from the <code class=\"docutils literal notranslate\"><span class=\"pre\">magazine/titles</span></code> endpoint you might notice other problems, such as:</p>", "a[href=\"#metadata\"]": "<h3 class=\"tippy-header\" style=\"margin-top: 0;\">Metadata<a class=\"headerlink\" href=\"#metadata\" title=\"Link to this heading\">#</a></h3><p><code class=\"docutils literal notranslate\"><span class=\"pre\">/search</span></code> in <code class=\"docutils literal notranslate\"><span class=\"pre\">magazine</span></code> category and <code class=\"docutils literal notranslate\"><span class=\"pre\">/work</span></code> endpoints</p><p><code class=\"docutils literal notranslate\"><span class=\"pre\">bibliographicCitation</span></code> in article records has structured publication metadata</p>", "a[href=\"#magazine-titles\"]": "<h4 class=\"tippy-header\" style=\"margin-top: 0;\"><code class=\"docutils literal notranslate\"><span class=\"pre\">/magazine/titles</span></code><a class=\"headerlink\" href=\"#magazine-titles\" title=\"Link to this heading\">#</a></h4><p>Example record:</p>", "a[href=\"#accessing-data-from-periodicals\"]": "<h1 class=\"tippy-header\" style=\"margin-top: 0;\">Accessing data from periodicals<a class=\"headerlink\" href=\"#accessing-data-from-periodicals\" title=\"Link to this heading\">#</a></h1><h2>What is a periodical?<a class=\"headerlink\" href=\"#what-is-a-periodical\" title=\"Link to this heading\">#</a></h2><p>Periodicals are publications that are issued at regular intervals. They can include newspapers, magazines, and academic journals. Newspapers are managed and delivered separately in Trove, so this section focuses on all the other types of digitised periodicals.</p><p>Sometimes it\u2019s not clear whether a publication is a periodical or not. What about annual reports produced by government departments? Or almanacs that are updated each year?</p>", "a[href=\"#get-titles-using-the-magazine-titles-api-endpoint\"]": "<h3 class=\"tippy-header\" style=\"margin-top: 0;\">Get titles using the <code class=\"docutils literal notranslate\"><span class=\"pre\">magazine/titles</span></code> API endpoint<a class=\"headerlink\" href=\"#get-titles-using-the-magazine-titles-api-endpoint\" title=\"Link to this heading\">#</a></h3><p>If you send a request to the <code class=\"docutils literal notranslate\"><span class=\"pre\">magazine/titles</span></code> API endpoint you get back the first group of periodical titles. The maximum number of titles per request is 100, you can set this using the <code class=\"docutils literal notranslate\"><span class=\"pre\">limit</span></code> parameter. To harvest details of <em>all</em> titles, you need to work your way through the complete dataset by using the <code class=\"docutils literal notranslate\"><span class=\"pre\">offset</span></code> parameter to move each request forward to the next group of titles. So if <code class=\"docutils literal notranslate\"><span class=\"pre\">limit</span></code> is set to <code class=\"docutils literal notranslate\"><span class=\"pre\">100</span></code>, your first request would have an <code class=\"docutils literal notranslate\"><span class=\"pre\">offset</span></code> value of <code class=\"docutils literal notranslate\"><span class=\"pre\">0</span></code>, and your second request would have an <code class=\"docutils literal notranslate\"><span class=\"pre\">offset</span></code> value of <code class=\"docutils literal notranslate\"><span class=\"pre\">100</span></code>. You\u2019d then keep incrementing the <code class=\"docutils literal notranslate\"><span class=\"pre\">offset</span></code> value by 100 until you reach the end of the dataset. Here\u2019s a full example.</p>", "a[href=\"#get-details-of-an-individual-title\"]": "<h3 class=\"tippy-header\" style=\"margin-top: 0;\">Get details of an individual title<a class=\"headerlink\" href=\"#get-details-of-an-individual-title\" title=\"Link to this heading\">#</a></h3><p>You can use the <code class=\"docutils literal notranslate\"><span class=\"pre\">magazine/title</span></code> endpoint to retrieve information about an individual periodical title. You can supply either an <code class=\"docutils literal notranslate\"><span class=\"pre\">nla.obj</span></code> identifier or a numeric work identifier. For example, to get details about the <a class=\"reference external\" href=\"https://trove.nla.gov.au/work/10411388\"><em>Journal of Soil Conservation</em></a> you can either use it\u2019s work identifier <code class=\"docutils literal notranslate\"><span class=\"pre\">10411388</span></code>:</p><p><code class=\"docutils literal notranslate\"><span class=\"pre\">https://api.trove.nla.gov.au/v3/magazine/title/10411388?encoding=json</span></code></p>", "a[href=\"#format-periodical-and-nla-obj\"]": "<h4 class=\"tippy-header\" style=\"margin-top: 0;\">Format <code class=\"docutils literal notranslate\"><span class=\"pre\">periodical</span></code> and \u201cnla.obj\u201d<a class=\"headerlink\" href=\"#format-periodical-and-nla-obj\" title=\"Link to this heading\">#</a></h4><p>There are 2,500 titles in the title endpoint, but only about 1,000 when you search for <code class=\"docutils literal notranslate\"><span class=\"pre\">\"nla.obj\"</span></code> &amp; <code class=\"docutils literal notranslate\"><span class=\"pre\">l-format=periodical</span></code>. Is there any way to reconcile? Is it because of PP?</p><p>Check by getting ids from title endpoint, then extracting embedded metadata? Will that help?</p>", "a[href=\"#what-is-a-periodical\"]": "<h2 class=\"tippy-header\" style=\"margin-top: 0;\">What is a periodical?<a class=\"headerlink\" href=\"#what-is-a-periodical\" title=\"Link to this heading\">#</a></h2><p>Periodicals are publications that are issued at regular intervals. They can include newspapers, magazines, and academic journals. Newspapers are managed and delivered separately in Trove, so this section focuses on all the other types of digitised periodicals.</p><p>Sometimes it\u2019s not clear whether a publication is a periodical or not. What about annual reports produced by government departments? Or almanacs that are updated each year?</p>", "a[href=\"#parliamentary-papers\"]": "<h2 class=\"tippy-header\" style=\"margin-top: 0;\">Parliamentary papers<a class=\"headerlink\" href=\"#parliamentary-papers\" title=\"Link to this heading\">#</a></h2><p>Digitised Parliamentary Papers are often treated as periodicals in Trove. For example, sections extracted from them appear as \u2018articles\u2019 in the <strong>Magazines &amp; Newsletters</strong> category, and some turn up in searches for works with a <code class=\"docutils literal notranslate\"><span class=\"pre\">format</span></code> value of <code class=\"docutils literal notranslate\"><span class=\"pre\">Periodical</span></code>. You can understand why annual reports by government agencies, for example, might be considered as periodicals. However, the treatment of the Parliamentary Papers isn\u2019t consistent across Trove, and their numbers tend to overwhelm other periodicals. For this reason, I think it makes sense to consider Parliamentary Papers separately.</p>", "a[href=\"#id3\"]": "<h2 class=\"tippy-header\" style=\"margin-top: 0;\">Periodical titles<a class=\"headerlink\" href=\"#id3\" title=\"Link to this heading\">#</a></h2>", "a[href=\"#periodical-titles\"]": "<h2 class=\"tippy-header\" style=\"margin-top: 0;\">Periodical titles<a class=\"headerlink\" href=\"#periodical-titles\" title=\"Link to this heading\">#</a></h2><p>Finding out which periodicals in Trove have been digitised is not straightforward. There are two basic approaches:</p>", "a[href=\"#finding-missing-issues\"]": "<h3 class=\"tippy-header\" style=\"margin-top: 0;\">Finding missing issues<a class=\"headerlink\" href=\"#finding-missing-issues\" title=\"Link to this heading\">#</a></h3>", "a[href=\"#id2\"]": "<h3 class=\"tippy-header\" style=\"margin-top: 0;\">Metadata<a class=\"headerlink\" href=\"#id2\" title=\"Link to this heading\">#</a></h3><p>API provides <code class=\"docutils literal notranslate\"><span class=\"pre\">/magazine/titles</span></code> and <code class=\"docutils literal notranslate\"><span class=\"pre\">/magazine/title/[ID]</span></code> endpoints</p><p>Been prodding the new <code class=\"docutils literal notranslate\"><span class=\"pre\">/magazine/title</span></code> endpoint that was added to #Trove API v3. It provides details on periodical titles and issues (other than newspapers). So it\u2019s very useful, but also very not\u2026</p>", "a[href=\"#removing-parliamentary-papers\"]": "<h4 class=\"tippy-header\" style=\"margin-top: 0;\">Removing parliamentary papers<a class=\"headerlink\" href=\"#removing-parliamentary-papers\" title=\"Link to this heading\">#</a></h4><p>To get a sense of the types of periodicals in the dataset you can look at the titles. You\u2019ll see that many of them are just called \u2018Annual report\u2019.</p>", "a[href=\"#articles\"]": "<h2 class=\"tippy-header\" style=\"margin-top: 0;\">Articles<a class=\"headerlink\" href=\"#articles\" title=\"Link to this heading\">#</a></h2><h3>Metadata<a class=\"headerlink\" href=\"#metadata\" title=\"Link to this heading\">#</a></h3><p><code class=\"docutils literal notranslate\"><span class=\"pre\">/search</span></code> in <code class=\"docutils literal notranslate\"><span class=\"pre\">magazine</span></code> category and <code class=\"docutils literal notranslate\"><span class=\"pre\">/work</span></code> endpoints</p><p><code class=\"docutils literal notranslate\"><span class=\"pre\">bibliographicCitation</span></code> in article records has structured publication metadata</p>"}
skip_classes = ["headerlink", "sd-stretched-link", "sd-rounded-pill"]

window.onload = function () {
    for (const [select, tip_html] of Object.entries(selector_to_html)) {
        const links = document.querySelectorAll(`article.bd-article ${select}`);
        for (const link of links) {
            if (skip_classes.some(c => link.classList.contains(c))) {
                continue;
            }

            tippy(link, {
                content: tip_html,
                allowHTML: true,
                arrow: true,
                placement: 'auto-start', maxWidth: 500, interactive: false,

            });
        };
    };
    console.log("tippy tips loaded!");
};
