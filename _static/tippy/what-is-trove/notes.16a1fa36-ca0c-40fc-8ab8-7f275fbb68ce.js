selector_to_html = {"a[href=\"#works-and-versions\"]": "<h2 class=\"tippy-header\" style=\"margin-top: 0;\">Works and versions<a class=\"headerlink\" href=\"#works-and-versions\" title=\"Link to this heading\">#</a></h2><h3>Digitised collections<a class=\"headerlink\" href=\"#id1\" title=\"Link to this heading\">#</a></h3><p>No individual metadata \u2013 titles, dates in linktext. Not individually searchable. Not individually downloadable via API.</p><p>Also duplicates.</p>", "a[href=\"#the-reality\"]": "<h2 class=\"tippy-header\" style=\"margin-top: 0;\">The reality<a class=\"headerlink\" href=\"#the-reality\" title=\"Link to this heading\">#</a></h2><p>That\u2019s the theory. The reality is more complex and confusing.</p>", "a[href=\"../newspapers-and-gazettes/data/pages.html#get-page-identifier-from-search\"]": "<h3 class=\"tippy-header\" style=\"margin-top: 0;\">Get the identifier of a specific page by searching for articles<a class=\"headerlink\" href=\"#get-the-identifier-of-a-specific-page-by-searching-for-articles\" title=\"Link to this heading\">#</a></h3><p>To get the identifier of a specific page, you need to construct a very precise search for articles published on that page using the <code class=\"docutils literal notranslate\"><span class=\"pre\">/result</span></code> endpoint. You can do this by specifying the title (the newspaper name), the publication date, and the page number. Once you have the search results, you can extract the page identifier from the article records.</p><p>The newspaper title is set using the <code class=\"docutils literal notranslate\"><span class=\"pre\">l-title</span></code> parameter. For example, the identifier for the <em>Canberra Times</em> is <code class=\"docutils literal notranslate\"><span class=\"pre\">11</span></code>, so to limit your search to the <em>Canberra Times</em> you\u2019d set <code class=\"docutils literal notranslate\"><span class=\"pre\">l-title</span></code> to <code class=\"docutils literal notranslate\"><span class=\"pre\">11</span></code>.</p>", "a[href=\"#digitised-collections\"]": "<h2 class=\"tippy-header\" style=\"margin-top: 0;\">Digitised collections<a class=\"headerlink\" href=\"#digitised-collections\" title=\"Link to this heading\">#</a></h2><p>Resources digitised by the NLA and delivered trhough Trove are sometimes grouped into collections. In the <strong>Digitised Newspapers &amp; Gazettes</strong> category, relationships exist between the different parts of a newspaper \u2013 titles, issues, pages, and articles \u2013 enabling you move from one level to another, and <a class=\"reference internal\" href=\"../newspapers-and-gazettes/data/accessing-data.html\"><span class=\"doc std std-doc\">to access and aggregate data</span></a> from the different components. For example, you can <a class=\"reference internal\" href=\"../newspapers-and-gazettes/data/pages.html#get-page-identifier-from-search\"><span class=\"std std-ref\">find articles published on a particular page</span></a>.</p><p>These sorts of relationships are not as clearly defined for other types of digitised resources, and little data about these relationships is directly available from the Trove API.</p>", "a[href=\"#implications-for-research\"]": "<h2 class=\"tippy-header\" style=\"margin-top: 0;\">Implications for research<a class=\"headerlink\" href=\"#implications-for-research\" title=\"Link to this heading\">#</a></h2><p>Work has metadata extracted from versions.</p><p>More problems with non-library type collections</p>", "a[href=\"#research-implications\"]": "<h2 class=\"tippy-header\" style=\"margin-top: 0;\">Research implications<a class=\"headerlink\" href=\"#research-implications\" title=\"Link to this heading\">#</a></h2><p>The challenges</p><p>User confusion - noted early on, various changes. Needs to be factored into search strategies.</p>", "a[href=\"#extra-notes\"]": "<h1 class=\"tippy-header\" style=\"margin-top: 0;\">Extra notes<a class=\"headerlink\" href=\"#extra-notes\" title=\"Link to this heading\">#</a></h1><h2>Digitised collections<a class=\"headerlink\" href=\"#digitised-collections\" title=\"Link to this heading\">#</a></h2><p>Resources digitised by the NLA and delivered trhough Trove are sometimes grouped into collections. In the <strong>Digitised Newspapers &amp; Gazettes</strong> category, relationships exist between the different parts of a newspaper \u2013 titles, issues, pages, and articles \u2013 enabling you move from one level to another, and <a class=\"reference internal\" href=\"../newspapers-and-gazettes/data/accessing-data.html\"><span class=\"doc std std-doc\">to access and aggregate data</span></a> from the different components. For example, you can <a class=\"reference internal\" href=\"../newspapers-and-gazettes/data/pages.html#get-page-identifier-from-search\"><span class=\"std std-ref\">find articles published on a particular page</span></a>.</p><p>These sorts of relationships are not as clearly defined for other types of digitised resources, and little data about these relationships is directly available from the Trove API.</p>", "a[href=\"#indexing-of-full-text-from-aggregated-collections\"]": "<h2 class=\"tippy-header\" style=\"margin-top: 0;\">Indexing of full text from aggregated collections<a class=\"headerlink\" href=\"#indexing-of-full-text-from-aggregated-collections\" title=\"Link to this heading\">#</a></h2>", "a[href=\"../newspapers-and-gazettes/data/accessing-data.html\"]": "<h1 class=\"tippy-header\" style=\"margin-top: 0;\"><span class=\"section-number\">17. </span>Accessing data from newspapers and gazettes<a class=\"headerlink\" href=\"#accessing-data-from-newspapers-and-gazettes\" title=\"Link to this heading\">#</a></h1><p>Before you start requesting data from Trove\u2019s digitised newspapers, it\u2019s worth thinking a bit about the way newspapers are represented in Trove and the relationships between <strong>articles</strong>, <strong>pages</strong>, <strong>issues</strong>, and <strong>titles</strong>. You might think that newspapers are organised in a simple hierarchical structure with titles at the top, and articles at the bottom, but it\u2019s not quite that straighforward. Articles are linked to both pages and titles. Titles have their own API endpoint that can lead you to issues, though following an issue url will actually take you to a page. Pages have identifiers, and you can browse their contents in the Trove web interface, but they don\u2019t exist as separate entities in the API. These sorts of oddities mean that sometimes there\u2019s no direct route to the information that you want, but by thinking about what is connected to what, you can find alternative paths. For example, while there\u2019s no direct link between issues and articles, if you get the publication date and title from an issue, you can then search for articles published in that issue by using the <code class=\"docutils literal notranslate\"><span class=\"pre\">date</span></code> index and <code class=\"docutils literal notranslate\"><span class=\"pre\">title</span></code> facet.</p><p>This section is organised by <strong>articles</strong>, <strong>pages</strong>, <strong>issues</strong>, and <strong>titles</strong>. For each entity, I\u2019ve described a variety of methods to access metadata, text and images \u2013 some are straightforward, others are a bit hacky, but they work!</p>", "a[href=\"#finding-aids\"]": "<h2 class=\"tippy-header\" style=\"margin-top: 0;\">Finding aids<a class=\"headerlink\" href=\"#finding-aids\" title=\"Link to this heading\">#</a></h2><p>Describe the different ways that \u2018collections\u2019 are described within Trove.</p><p>Parent-child relationships in Trove metadata:</p>", "a[href=\"#id1\"]": "<h3 class=\"tippy-header\" style=\"margin-top: 0;\">Digitised collections<a class=\"headerlink\" href=\"#id1\" title=\"Link to this heading\">#</a></h3><p>No individual metadata \u2013 titles, dates in linktext. Not individually searchable. Not individually downloadable via API.</p><p>Also duplicates.</p>", "a[href=\"#implications-for-data\"]": "<h2 class=\"tippy-header\" style=\"margin-top: 0;\">Implications for data<a class=\"headerlink\" href=\"#implications-for-data\" title=\"Link to this heading\">#</a></h2><p>Invisibility of versions \u2013 need to unpack works</p>"}
skip_classes = ["headerlink", "sd-stretched-link", "sd-rounded-pill"]

window.onload = function () {
    for (const [select, tip_html] of Object.entries(selector_to_html)) {
        const links = document.querySelectorAll(`article.bd-article ${select}`);
        for (const link of links) {
            if (skip_classes.some(c => link.classList.contains(c))) {
                continue;
            }

            tippy(link, {
                content: tip_html,
                allowHTML: true,
                arrow: true,
                placement: 'auto-start', maxWidth: 500, interactive: false,

            });
        };
    };
    console.log("tippy tips loaded!");
};
