
<!DOCTYPE html>


<html lang="en" data-content_root="../../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>25.3. HOW TO: Get a list of items from a digitised collection &#8212; Trove Data Guide</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../../_static/styles/theme.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />
<link href="../../_static/styles/bootstrap.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />
<link href="../../_static/styles/pydata-sphinx-theme.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />

  
  <link href="../../_static/vendor/fontawesome/6.5.1/css/all.min.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.5.1/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.5.1/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.5.1/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="../../_static/styles/sphinx-book-theme.css?v=384b581d" />
    <link rel="stylesheet" type="text/css" href="../../_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../../_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx-thebe.css?v=4fa983c6" />
    <link rel="stylesheet" type="text/css" href="/opt/hostedtoolcache/Python/3.10.14/x64/lib/python3.10/site-packages/sphinxcontrib/icon/node_modules/@fortawesome/fontawesome-free/css/all.min.css?v=53359634" />
    <link rel="stylesheet" type="text/css" href="../../_static/design-style.1e8bd061cd6da7fc9cf755528e8ffc24.min.css?v=0a3b3ea7" />
    <link rel="stylesheet" type="text/css" href="../../_static/tdg.css?v=7dda3ab4" />
    <link rel="stylesheet" type="text/css" href="../../_static/tippy.css?v=2687f39f" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../_static/scripts/bootstrap.js?digest=8d27b9dea8ad943066ae" />
<link rel="preload" as="script" href="../../_static/scripts/pydata-sphinx-theme.js?digest=8d27b9dea8ad943066ae" />
  <script src="../../_static/vendor/fontawesome/6.5.1/js/all.min.js?digest=8d27b9dea8ad943066ae"></script>

    <script src="../../_static/documentation_options.js?v=9eb32ce0"></script>
    <script src="../../_static/doctools.js?v=888ff710"></script>
    <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../../_static/copybutton.js?v=f281be69"></script>
    <script src="../../_static/scripts/sphinx-book-theme.js?v=efea14e4"></script>
    <script src="/opt/hostedtoolcache/Python/3.10.14/x64/lib/python3.10/site-packages/sphinxcontrib/icon/node_modules/@fortawesome/fontawesome-free/js/all.min.js?v=ec35c6c9"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../../_static/togglebutton.js?v=4a39c7ea"></script>
    <script async="async" kind="hypothesis" src="https://hypothes.is/embed.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../../_static/design-tabs.js?v=36754332"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script async="async" src="../../_static/sphinx-thebe.js?v=c100c467"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script defer="defer" src="https://unpkg.com/@popperjs/core@2"></script>
    <script defer="defer" src="https://unpkg.com/tippy.js@6"></script>
    <script defer="defer" src="../../_static/tippy/other-digitised-resources/how-to/get-collection-items.2c1442d8-d850-4e64-b58b-21b18a9369aa.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'other-digitised-resources/how-to/get-collection-items';</script>
    <script src="../../_static/plausible.js?v=1382b812"></script>
    <link rel="author" title="About these documents" href="../../about.html" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="25.4. HOW TO: Get text, images, and PDFs using Troveâ€™s download link" href="get-downloads.html" />
    <link rel="prev" title="25.2. HOW TO: Extract additional metadata from the digitised resource viewer" href="extract-embedded-metadata.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a id="pst-skip-link" class="skip-link" href="#main-content">Skip to main content</a>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>
    Back to top
  </button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>


  <div class="bd-header-announcement container-fluid bd-header-announcement">
    <div class="bd-header-announcement__content">ðŸš§ <b>This is a working draft and will change often. Do not cite!<br>Use the <a href='http://tdg.glamworkbench.cloud.edu.au'>latest published version</a> instead.</b> ðŸš§</div>
  </div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  

<a class="navbar-brand logo" href="../../home.html">
  
  
  
  
  
    
    
      
    
    
    <img src="../../_static/trove-words-1685171984-1000-1000.jpg" class="logo__image only-light" alt="Trove Data Guide - Home"/>
    <script>document.write(`<img src="../../_static/trove-words-1685171984-1000-1000.jpg" class="logo__image only-dark" alt="Trove Data Guide - Home"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item">

 <script>
 document.write(`
   <button class="btn navbar-btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../../home.html">
                    Trove Data Guide
                </a>
            </li>
        </ul>
        <ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../../about.html">About this Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../who-and-how.html">Who is this for?</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../introduction/introduction.html">The possibilities of Trove data</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">What is Trove?</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../../what-is-trove/trove-is.html">1. Trove isâ€¦</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../what-is-trove/categories-and-zones.html">2. Categories and zones</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../what-is-trove/works-and-versions.html">3. Works and versions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../what-is-trove/collections.html">4. Collections within collections</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../what-is-trove/links-and-identifiers.html">5. Links and identifiers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../what-is-trove/interfaces.html">6. Interfaces</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Understanding search</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../../understanding-search/index.html">7. Understanding search</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../understanding-search/simple-search-options.html">8. â€˜Simpleâ€™ search options</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../understanding-search/date-searches.html">9. Date searches</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../understanding-search/search-hacks.html">10. Search interface hacks</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../understanding-search/finding-digitised-content.html">11. Finding NLA digitised content you can download</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Accessing data</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../../accessing-data/index.html">12. Data access options</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../accessing-data/using-web-interface.html">13. Downloading data from the Trove web interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../accessing-data/trove-api-intro.html">14. Trove API introduction</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../accessing-data/how-to/how-to.html">15. How to</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-1"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../accessing-data/how-to/download-higher-resolution-images.html">15.1. HOW TO: Download higher resolution versions of images from the web interface</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../accessing-data/how-to/harvest-complete-results.html">15.2. HOW TO: Harvest a complete set of search results using the Trove API</a></li>
</ul>
</li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Digitised newspapers and gazettes</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../../newspapers-and-gazettes/newspaper-corpus.html">16. Understanding the digitised newspapers</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../newspapers-and-gazettes/data/accessing-data.html">17. Accessing data</a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-2"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../newspapers-and-gazettes/data/articles.html">17.1. Articles</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../newspapers-and-gazettes/data/pages.html">17.2. Pages</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../newspapers-and-gazettes/data/issues.html">17.3. Issues</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../newspapers-and-gazettes/data/titles.html">17.4. Titles</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../newspapers-and-gazettes/how-to/newspapers-and-gazettes.html">18. How to</a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-3"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../newspapers-and-gazettes/how-to/get-newspaper-issue-article-pdfs.html">18.1. HOW TO: Get a newspaper issue or article as a PDF</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../newspapers-and-gazettes/how-to/get-ocr-coordinates.html">18.2. HOW TO: Get information about the position of OCRd newspaper text</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../newspapers-and-gazettes/how-to/create-newspaper-articles-dataset.html">18.3. HOW TO: Create a dataset of digitised newspaper articles</a></li>
</ul>
</li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Other digitised resources</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../index.html">19. Understanding digitised resources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../accessing-data.html">20. Accessing data from digitised resources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../books/overview.html">21. Books</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../periodicals/index.html">22. Periodicals</a><input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-4"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../periodicals/overview.html">22.1. Overview of periodicals</a></li>
<li class="toctree-l2"><a class="reference internal" href="../periodicals/finding-periodicals.html">22.2. Finding digitised periodicals</a></li>
<li class="toctree-l2"><a class="reference internal" href="../periodicals/accessing-data.html">22.3. Accessing data from periodicals</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../parliamentary-papers/index.html">23. Parliamentary papers</a><input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-5"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../parliamentary-papers/overview.html">23.1. Overview of Parliamentary Papers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../parliamentary-papers/finding-pp.html">23.2. Finding Parliamentary Papers in Trove</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../oral-histories/index.html">24. Oral histories</a><input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-6"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../oral-histories/overview.html">24.1. Overview of oral histories</a></li>
<li class="toctree-l2"><a class="reference internal" href="../oral-histories/accessing-data.html">24.2. Accessing data from digitised oral histories</a></li>
</ul>
</li>
<li class="toctree-l1 current active has-children"><a class="reference internal" href="digitised-resources.html">25. How to</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-7"><i class="fa-solid fa-chevron-down"></i></label><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="harvest-digitised-resources.html">25.1. HOW TO: Harvest data relating to digitised resources</a></li>
<li class="toctree-l2"><a class="reference internal" href="extract-embedded-metadata.html">25.2. HOW TO: Extract additional metadata from the digitised resource viewer</a></li>
<li class="toctree-l2 current active"><a class="current reference internal" href="#">25.3. HOW TO: Get a list of items from a digitised collection</a></li>
<li class="toctree-l2"><a class="reference internal" href="get-downloads.html">25.4. HOW TO: Get text, images, and PDFs using Troveâ€™s download link</a></li>
<li class="toctree-l2"><a class="reference internal" href="download-images.html">25.5. HOW TO: Create download links for images using <code class="docutils literal notranslate"><span class="pre">nla.obj</span></code> identifiers</a></li>
<li class="toctree-l2"><a class="reference internal" href="get-ocr-layout-data.html">25.6. HOW TO: Get and use OCR data from a book or periodical page</a></li>
<li class="toctree-l2"><a class="reference internal" href="scrape-metadata-audio-player.html">25.7. HOW TO: Scrape metadata from the Trove audio player</a></li>
</ul>
</li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Research pathways</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../../pathways/index.html">26. Introduction</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../pathways/text/text.html">27. Using text</a><input class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-8"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../pathways/text/data-sources.html">27.1. Data sources</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../pathways/text/tools.html">27.2. Tools and resources</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../pathways/text/examples.html">27.3. Tutorials and examples</a><input class="toctree-checkbox" id="toctree-checkbox-9" name="toctree-checkbox-9" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-9"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../pathways/text/newspapers-keywords.html">Analysing keywords in Troveâ€™s digitised newspapers</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../pathways/images/images.html">28. Using images</a><input class="toctree-checkbox" id="toctree-checkbox-10" name="toctree-checkbox-10" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-10"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../pathways/images/data-sources.html">28.1. Data sources</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../pathways/images/tools.html">28.2. Tools and resources</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../pathways/images/examples.html">28.3. Tutorials and examples</a><input class="toctree-checkbox" id="toctree-checkbox-11" name="toctree-checkbox-11" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-11"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../pathways/images/tropy.html">Working with a Trove collection in Tropy</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../pathways/images/mirador.html">Comparing manuscript collections in Mirador</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../pathways/metadata/metadata.html">29. Collection and system data</a><input class="toctree-checkbox" id="toctree-checkbox-12" name="toctree-checkbox-12" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-12"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../pathways/metadata/data-sources.html">29.1. Data sources</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../pathways/metadata/tools.html">29.2. Tools and resources</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../pathways/metadata/examples.html">29.3. Tutorials and examples</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../pathways/geospatial/geospatial.html">30. Maps and places</a><input class="toctree-checkbox" id="toctree-checkbox-13" name="toctree-checkbox-13" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-13"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../pathways/geospatial/data-sources.html">30.1. Data sources</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../pathways/geospatial/tools.html">30.2. Tools and resources</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../pathways/geospatial/examples.html">30.3. Tutorials and examples</a><input class="toctree-checkbox" id="toctree-checkbox-14" name="toctree-checkbox-14" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-14"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../pathways/geospatial/maps-to-ghap.html">Create a layer in GHAP using metadata from Troveâ€™s digitised maps</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../pathways/collections/collections.html">31. Creating collections</a><input class="toctree-checkbox" id="toctree-checkbox-15" name="toctree-checkbox-15" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-15"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../pathways/collections/tools.html">31.1. Tools and resources</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../pathways/collections/examples.html">31.2. Tutorials and examples</a><input class="toctree-checkbox" id="toctree-checkbox-16" name="toctree-checkbox-16" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-16"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../pathways/collections/collectionbuilder.html">Sharing a Trove List as a CollectionBuilder exhibition</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../../contributing.html">Contributing to the Trove Data Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../references.html">References</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><label class="sidebar-toggle primary-toggle btn btn-sm" for="__primary" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</label></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/wragge/trove-data-guide" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/wragge/trove-data-guide/issues/new?title=Issue%20on%20page%20%2Fother-digitised-resources/how-to/get-collection-items.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../../_sources/other-digitised-resources/how-to/get-collection-items.ipynb" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm navbar-btn theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch nav-link" data-mode="light"><i class="fa-solid fa-sun fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="dark"><i class="fa-solid fa-moon fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="auto"><i class="fa-solid fa-circle-half-stroke fa-lg"></i></span>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<label class="sidebar-toggle secondary-toggle btn btn-sm" for="__secondary"title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</label>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>HOW TO: Get a list of items from a digitised collection</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#background">25.3.1. Background</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#a-basic-example">25.3.2. A basic example</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#handling-collections-within-collections">25.3.3. Handling collections within collections</a></li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="how-to-get-a-list-of-items-from-a-digitised-collection">
<h1><span class="section-number">25.3. </span>HOW TO: Get a list of items from a digitised collection<a class="headerlink" href="#how-to-get-a-list-of-items-from-a-digitised-collection" title="Link to this heading">#</a></h1>
<div class="sd-card sd-sphinx-override sd-mb-3 sd-shadow-sm docutils">
<div class="sd-card-body docutils">
<p class="sd-card-text">On this page</p>
<nav class="contents local" id="contents">
<ul class="simple">
<li><p><a class="reference internal" href="#background" id="id1">Background</a></p></li>
<li><p><a class="reference internal" href="#a-basic-example" id="id2">A basic example</a></p></li>
<li><p><a class="reference internal" href="#handling-collections-within-collections" id="id3">Handling collections within collections</a></p></li>
</ul>
</nav>
</div>
</div>
<section id="background">
<h2><span class="section-number">25.3.1. </span>Background<a class="headerlink" href="#background" title="Link to this heading">#</a></h2>
<p>The NLAâ€™s digitised resources are often presented as â€˜collectionsâ€™. A collection could be the volumes in a multi-volume work, the issues of a periodical, a map series, an album of photographs, or a manuscript collection. In the web interface, collections will have a â€˜Browse this collectionâ€™ link or button that displays a list of the contents, but getting machine-readable data is not so straightforward. You can use the <code class="docutils literal notranslate"><span class="pre">magazine/title</span></code> API endpoint to get a list of issues from a periodical, but thereâ€™s no way to get the contents of other types of collections from the Trove API.</p>
<figure class="align-default" id="trove-image-collection">
<img alt="../../_images/trove-image-collection.png" src="../../_images/trove-image-collection.png" />
<figcaption>
<p><span class="caption-number">Fig. 25.1 </span><span class="caption-text">Example of a collection of photographs in Trove, <a class="reference external" href="https://nla.gov.au/nla.obj-147116770">https://nla.gov.au/nla.obj-147116770</a></span><a class="headerlink" href="#trove-image-collection" title="Link to this image">#</a></p>
</figcaption>
</figure>
<p>One work around is to scrape a list of items from the collection browse window. When you click on the â€˜Browse this collectionâ€™ button, your browser fires off a request for a list of items. Details of the first 20 items are returned in an HTML fragment which is displayed in a pop up window. By manually constructing the url for this request you can retrieve the HTML fragment and extract the item identifiers. The url to retrieve the browse list looks like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>https://nla.gov.au/[PARENT ID]/browse?startIdx=[START]&amp;rows=20&amp;op=c
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">[PARENT</span> <span class="pre">ID]</span></code> is the collectionâ€™s NLA identifier, for example <code class="docutils literal notranslate"><span class="pre">nla.obj-150592172</span></code>. The url returns 20 results at a time. If there are more than 20 items in the collection you need to make multiple requests, changing the <code class="docutils literal notranslate"><span class="pre">startIdx</span></code> value to work your way through the complete list. For example:</p>
<ul class="simple">
<li><p>Retrieve the first 20 items (<code class="docutils literal notranslate"><span class="pre">startIdx</span></code> set to <code class="docutils literal notranslate"><span class="pre">0</span></code>): <a class="reference external" href="https://nla.gov.au/nla.obj-150592172/browse?startIdx=0&amp;amp;rows=20&amp;amp;op=c">https://nla.gov.au/nla.obj-150592172/browse?startIdx=0&amp;rows=20&amp;op=c</a></p></li>
<li><p>Retrieve the next 20 items (<code class="docutils literal notranslate"><span class="pre">startIdx</span></code> set to <code class="docutils literal notranslate"><span class="pre">20</span></code>): <a class="reference external" href="https://nla.gov.au/nla.obj-150592172/browse?startIdx=20&amp;amp;rows=20&amp;amp;op=c">https://nla.gov.au/nla.obj-150592172/browse?startIdx=20&amp;rows=20&amp;op=c</a></p></li>
</ul>
<p>The <code class="docutils literal notranslate"><span class="pre">op</span></code> parameter seems to change the context of the request. With <code class="docutils literal notranslate"><span class="pre">op</span></code> set to <code class="docutils literal notranslate"><span class="pre">c</span></code> you get the members of the collection at your current level in the hierarchy. So if youâ€™re looking at a sub-collection, youâ€™ll get members of that sub-collection; if youâ€™re looking at a book, youâ€™ll get the pages in that book. Setting <code class="docutils literal notranslate"><span class="pre">op</span></code> to <code class="docutils literal notranslate"><span class="pre">s</span></code> seems to retrieve the top-level members of the collection.</p>
</section>
<section id="a-basic-example">
<h2><span class="section-number">25.3.2. </span>A basic example<a class="headerlink" href="#a-basic-example" title="Link to this heading">#</a></h2>
<aside class="margin sidebar">
<p class="sidebar-title"></p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p>A number of GLAM Workbench notebooks, like <a class="reference external" href="https://glam-workbench.net/trove-journals/get-ocrd-text-from-digitised-journal/">Get OCRd text from a digitised journal in Trove</a> use a version of this code to get lists of issues from periodicals.</p>
</div>
</aside>
<p>The code below loops through the complete set of items in a collection by updating the <code class="docutils literal notranslate"><span class="pre">startIdx</span></code> value after each request.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">time</span>

<span class="kn">import</span> <span class="nn">requests</span>
<span class="kn">from</span> <span class="nn">bs4</span> <span class="kn">import</span> <span class="n">BeautifulSoup</span>

<span class="n">collection_id</span> <span class="o">=</span> <span class="s2">&quot;nla.obj-150592172&quot;</span>

<span class="c1"># The initial startIdx value</span>
<span class="n">start</span> <span class="o">=</span> <span class="mi">0</span>
<span class="c1"># Number of results per page, used to increment the startIdx value</span>
<span class="n">n</span> <span class="o">=</span> <span class="mi">20</span>

<span class="n">items</span> <span class="o">=</span> <span class="p">[]</span>

<span class="c1"># If there aren&#39;t 20 results on the page then we&#39;ve reached the end, so continue harvesting until that happens.</span>
<span class="k">while</span> <span class="n">n</span> <span class="o">==</span> <span class="mi">20</span><span class="p">:</span>
    <span class="n">url</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;https://nla.gov.au/</span><span class="si">{</span><span class="n">collection_id</span><span class="si">}</span><span class="s2">/browse?startIdx=</span><span class="si">{</span><span class="n">start</span><span class="si">}</span><span class="s2">&amp;rows=20&amp;op=c&quot;</span>

    <span class="c1"># Get the browse page</span>
    <span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>

    <span class="c1"># Beautifulsoup turns the HTML into an easily navigable structure</span>
    <span class="n">soup</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">text</span><span class="p">,</span> <span class="s2">&quot;html.parser&quot;</span><span class="p">)</span>

    <span class="c1"># Find all the divs containing issue details and loop through them</span>
    <span class="n">details</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="n">class_</span><span class="o">=</span><span class="s2">&quot;l-item-info&quot;</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">detail</span> <span class="ow">in</span> <span class="n">details</span><span class="p">:</span>

        <span class="c1"># Look for the a tag with class &quot;obj-reference content&quot;</span>
        <span class="n">item_id</span> <span class="o">=</span> <span class="n">detail</span><span class="o">.</span><span class="n">find</span><span class="p">(</span>
            <span class="k">lambda</span> <span class="n">tag</span><span class="p">:</span> <span class="n">tag</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s2">&quot;a&quot;</span>
            <span class="ow">and</span> <span class="n">tag</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;class&quot;</span><span class="p">)</span> <span class="o">==</span> <span class="p">[</span><span class="s2">&quot;obj-reference&quot;</span><span class="p">,</span> <span class="s2">&quot;content&quot;</span><span class="p">]</span>
        <span class="p">)[</span><span class="s2">&quot;href&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">strip</span><span class="p">(</span><span class="s2">&quot;/&quot;</span><span class="p">)</span>

        <span class="c1"># Save the issue id</span>
        <span class="n">items</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">item_id</span><span class="p">)</span>

    <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">0.2</span><span class="p">)</span>
    <span class="c1"># Increment the startIdx</span>
    <span class="n">start</span> <span class="o">+=</span> <span class="n">n</span>
    <span class="c1"># Set n to the number of results on the current page</span>
    <span class="n">n</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">details</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">len</span><span class="p">(</span><span class="n">items</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>478
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">items</span><span class="p">[:</span><span class="mi">5</span><span class="p">]:</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;https://nla.gov.au/</span><span class="si">{</span><span class="n">item</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>https://nla.gov.au/nla.obj-150592180
https://nla.gov.au/nla.obj-150592283
https://nla.gov.au/nla.obj-150592389
https://nla.gov.au/nla.obj-150592481
https://nla.gov.au/nla.obj-150592585
</pre></div>
</div>
</div>
</div>
</section>
<section id="handling-collections-within-collections">
<h2><span class="section-number">25.3.3. </span>Handling collections within collections<a class="headerlink" href="#handling-collections-within-collections" title="Link to this heading">#</a></h2>
<p>The code above works fine if the collection is a simple, flat hierarchy with no sub-collections. However, sometimes collections in Trove are more complex. For example, <a class="reference external" href="https://nla.gov.au/nla.obj-147116770">this collection of photographs</a> includes albums, sketchbooks, and other groups, which are treated as sub-collections with their own child items. To harvest the details of all the items in collections like this you have to recurse your way through all levels of the hierarchy.</p>
<div class="warning admonition">
<p class="admonition-title">Pages can be children too!</p>
<p>Print publications, like books and issues of periodicals, are treated as collections of pages. This means you can use the method described here to harvest a list of page identifiers from a publication. However, it can also lead to unexpected results. If you harvest a list of all the issues in a periodical, and include all the sub-collections, youâ€™ll end up with details of <strong>every page in every issue</strong>. If you donâ€™t want the page data, thisâ€™ll just just slow things down. Even if you <em>do</em> want the page identifiers, <a class="reference internal" href="extract-embedded-metadata.html"><span class="std std-doc">grabbing them from the issueâ€™s embedded metadata</span></a> will probably be more efficient.</p>
</div>
<p>The code below harvests items from a collection, including any sub-collections. If you donâ€™t want the sub-collections, just set <code class="docutils literal notranslate"><span class="pre">include_subcollections</span></code> to <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p>
<p>Instead of just a list of identifiers, the function returns a list of dictionaries. Each dictionary includes three fields: <code class="docutils literal notranslate"><span class="pre">item_id</span></code>, <code class="docutils literal notranslate"><span class="pre">item_type</span></code> (either <code class="docutils literal notranslate"><span class="pre">item</span></code> or <code class="docutils literal notranslate"><span class="pre">collection</span></code>), and <code class="docutils literal notranslate"><span class="pre">parent_id</span></code>. This enables you to reconstruct the original hierarchy if necessary.</p>
<aside class="margin sidebar">
<p class="sidebar-title"></p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p>The GLAM Workbench notebook <a class="reference external" href="https://glam-workbench.net/trove-images/download-image-collection/">Download a collection of digitised images</a> uses this code to find and download all the images in a collection or finding-aid.</p>
</div>
</aside>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">time</span>

<span class="kn">import</span> <span class="nn">requests</span>
<span class="kn">from</span> <span class="nn">bs4</span> <span class="kn">import</span> <span class="n">BeautifulSoup</span>


<span class="k">def</span> <span class="nf">harvest_collection_items</span><span class="p">(</span><span class="n">collection_id</span><span class="p">,</span> <span class="n">include_subcollections</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Harvest all the items in a Trove collection (including any sub-collections)</span>
<span class="sd">    by scraping the item identifiers from the &#39;Browse collection&#39; pop-up.</span>
<span class="sd">    See the Trove Data Guide:</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># The initial startIdx value</span>
    <span class="n">start</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="c1"># Number of results per page, used to increment the startIdx value</span>
    <span class="n">n</span> <span class="o">=</span> <span class="mi">20</span>
    <span class="n">items</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="c1"># If there aren&#39;t 20 results on the page then we&#39;ve reached the end, so continue harvesting until that happens.</span>
    <span class="k">while</span> <span class="n">n</span> <span class="o">==</span> <span class="mi">20</span><span class="p">:</span>
        <span class="n">url</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;https://nla.gov.au/</span><span class="si">{</span><span class="n">collection_id</span><span class="si">}</span><span class="s2">/browse?startIdx=</span><span class="si">{</span><span class="n">start</span><span class="si">}</span><span class="s2">&amp;rows=20&amp;op=c&quot;</span>
        <span class="c1"># Get the browse page</span>
        <span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>

        <span class="c1"># Beautifulsoup turns the HTML into an easily navigable structure</span>
        <span class="n">soup</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">text</span><span class="p">,</span> <span class="s2">&quot;html.parser&quot;</span><span class="p">)</span>

        <span class="c1"># Find all the divs containing issue details and loop through them</span>
        <span class="n">details</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="n">class_</span><span class="o">=</span><span class="s2">&quot;l-item-info&quot;</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">detail</span> <span class="ow">in</span> <span class="n">details</span><span class="p">:</span>
            <span class="c1"># Set a default type</span>
            <span class="n">item_type</span> <span class="o">=</span> <span class="s2">&quot;item&quot;</span>

            <span class="c1"># Look for the a tag with class &quot;obj-reference content&quot;</span>
            <span class="n">item_id</span> <span class="o">=</span> <span class="n">detail</span><span class="o">.</span><span class="n">find</span><span class="p">(</span>
                <span class="k">lambda</span> <span class="n">tag</span><span class="p">:</span> <span class="n">tag</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s2">&quot;a&quot;</span>
                <span class="ow">and</span> <span class="n">tag</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;class&quot;</span><span class="p">)</span> <span class="o">==</span> <span class="p">[</span><span class="s2">&quot;obj-reference&quot;</span><span class="p">,</span> <span class="s2">&quot;content&quot;</span><span class="p">]</span>
            <span class="p">)[</span><span class="s2">&quot;href&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">strip</span><span class="p">(</span><span class="s2">&quot;/&quot;</span><span class="p">)</span>

            <span class="c1"># Look for a link to &#39;children&#39;, indicating it&#39;s a subcollection (or a book or issue with pages)</span>
            <span class="n">has_children</span> <span class="o">=</span> <span class="n">detail</span><span class="o">.</span><span class="n">find</span><span class="p">(</span>
                <span class="k">lambda</span> <span class="n">tag</span><span class="p">:</span> <span class="n">tag</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s2">&quot;a&quot;</span> <span class="ow">and</span> <span class="n">tag</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;class&quot;</span><span class="p">)</span> <span class="o">==</span> <span class="p">[</span><span class="s2">&quot;obj-reference&quot;</span><span class="p">]</span>
            <span class="p">)</span>

            <span class="c1"># If it has children, harvest items from the subcollection</span>
            <span class="k">if</span> <span class="n">has_children</span> <span class="ow">and</span> <span class="n">include_subcollections</span> <span class="ow">is</span> <span class="kc">True</span><span class="p">:</span>
                <span class="n">item_type</span> <span class="o">=</span> <span class="s2">&quot;collection&quot;</span>
                <span class="n">items</span> <span class="o">+=</span> <span class="n">harvest_collection_items</span><span class="p">(</span><span class="n">item_id</span><span class="p">,</span> <span class="n">include_subcollections</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

            <span class="c1"># Save the item</span>
            <span class="c1"># The parent_id will enable us to identify items that are in subcollections</span>
            <span class="n">items</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
                <span class="p">{</span><span class="s2">&quot;item_id&quot;</span><span class="p">:</span> <span class="n">item_id</span><span class="p">,</span> <span class="s2">&quot;item_type&quot;</span><span class="p">:</span> <span class="n">item_type</span><span class="p">,</span> <span class="s2">&quot;parent_id&quot;</span><span class="p">:</span> <span class="n">collection_id</span><span class="p">}</span>
            <span class="p">)</span>

        <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">0.2</span><span class="p">)</span>
        <span class="c1"># Increment the startIdx</span>
        <span class="n">start</span> <span class="o">+=</span> <span class="n">n</span>
        <span class="c1"># Set n to the number of results on the current page</span>
        <span class="n">n</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">details</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">items</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">items</span> <span class="o">=</span> <span class="n">harvest_collection_items</span><span class="p">(</span><span class="s2">&quot;nla.obj-147116770&quot;</span><span class="p">,</span> <span class="n">include_subcollections</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">items</span><span class="p">[:</span><span class="mi">10</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[{&#39;item_id&#39;: &#39;nla.obj-147156444&#39;,
  &#39;item_type&#39;: &#39;item&#39;,
  &#39;parent_id&#39;: &#39;nla.obj-147116781&#39;},
 {&#39;item_id&#39;: &#39;nla.obj-147156453&#39;,
  &#39;item_type&#39;: &#39;item&#39;,
  &#39;parent_id&#39;: &#39;nla.obj-147116781&#39;},
 {&#39;item_id&#39;: &#39;nla.obj-147156804&#39;,
  &#39;item_type&#39;: &#39;item&#39;,
  &#39;parent_id&#39;: &#39;nla.obj-147116781&#39;},
 {&#39;item_id&#39;: &#39;nla.obj-147157261&#39;,
  &#39;item_type&#39;: &#39;item&#39;,
  &#39;parent_id&#39;: &#39;nla.obj-147116781&#39;},
 {&#39;item_id&#39;: &#39;nla.obj-147116781&#39;,
  &#39;item_type&#39;: &#39;collection&#39;,
  &#39;parent_id&#39;: &#39;nla.obj-147116770&#39;},
 {&#39;item_id&#39;: &#39;nla.obj-147116797&#39;,
  &#39;item_type&#39;: &#39;item&#39;,
  &#39;parent_id&#39;: &#39;nla.obj-147116770&#39;},
 {&#39;item_id&#39;: &#39;nla.obj-147148547&#39;,
  &#39;item_type&#39;: &#39;item&#39;,
  &#39;parent_id&#39;: &#39;nla.obj-147116890&#39;},
 {&#39;item_id&#39;: &#39;nla.obj-147148745&#39;,
  &#39;item_type&#39;: &#39;item&#39;,
  &#39;parent_id&#39;: &#39;nla.obj-147116890&#39;},
 {&#39;item_id&#39;: &#39;nla.obj-147148943&#39;,
  &#39;item_type&#39;: &#39;item&#39;,
  &#39;parent_id&#39;: &#39;nla.obj-147116890&#39;},
 {&#39;item_id&#39;: &#39;nla.obj-147149140&#39;,
  &#39;item_type&#39;: &#39;item&#39;,
  &#39;parent_id&#39;: &#39;nla.obj-147116890&#39;}]
</pre></div>
</div>
</div>
</div>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./other-digitised-resources/how-to"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="extract-embedded-metadata.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title"><span class="section-number">25.2. </span>HOW TO: Extract additional metadata from the digitised resource viewer</p>
      </div>
    </a>
    <a class="right-next"
       href="get-downloads.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title"><span class="section-number">25.4. </span>HOW TO: Get text, images, and PDFs using Troveâ€™s download link</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#background">25.3.1. Background</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#a-basic-example">25.3.2. A basic example</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#handling-collections-within-collections">25.3.3. Handling collections within collections</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By <a href="https://timsherratt.org">Tim Sherratt</a>
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      Â© Copyright 2024 Australian Research Data Commons.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
<div class="extra_footer">
  <p>
<a rel="license" href="http://creativecommons.org/licenses/by/4.0/"><img alt="Creative Commons License" style="border-width:0" src="https://licensebuttons.net/l/by/4.0/80x15.png" /></a> This work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by/4.0/">Creative Commons Attribution 4.0 International License</a>
</p>
<p>
The Trove Data Guide received investment from the <a href="https://ardc.edu.au/">Australian Research Data Commons</a> (ARDC). The ARDC is funded by the National Collaborative Research Infrastructure Strategy (NCRIS).
</p>
<p><a href="https://doi.org/10.5281/zenodo.12216708"><img src="https://zenodo.org/badge/DOI/10.5281/zenodo.12216708.svg"></a></p>

</div>
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../../_static/scripts/bootstrap.js?digest=8d27b9dea8ad943066ae"></script>
<script src="../../_static/scripts/pydata-sphinx-theme.js?digest=8d27b9dea8ad943066ae"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>